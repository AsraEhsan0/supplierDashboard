@{
    ViewData["Title"] = "Manage Agencies";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Manage Agencies</h1>
    <a href="/Agencies/AddAgency" class="btn btn-primary">Add New Agency</a>
</div>

<!-- Agencies Table -->
<div class="table-container">
    <div class="table-responsive">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Agency Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Address</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @{
                int index = 0;
            }
            @foreach (dynamic agency in ViewBag.Agencies)
            {
                <tr>
                    <td>@agency.AgencyName</td>
                    <td>@agency.Email</td>
                    <td>@agency.Phone</td>
                    <td>@agency.Address</td>
                    <td>
                        @if (agency.Status == "Active")
                        {
                            <span class="badge bg-success">Active</span>
                        }
                        else
                        {
                            <span class="badge bg-danger">Inactive</span>
                        }
                    </td>
                    <td>
                        <button class="btn btn-primary btn-sm me-2">Manage Agents</button>

                        <form method="post" action="/Agencies/ToggleStatus" class="d-inline">
                            <input type="hidden" name="index" value="@index" />
                            <button type="submit" class="btn btn-warning btn-sm">Toggle Status</button>
                        </form>
                    </td>
                </tr>
                index++;
            }
        </tbody>
    </table>
</div>
</div>

<style>
    .badge {
        font-size: 0.875rem;
        padding: 0.5rem 0.75rem;
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
        font-weight: 500;
        border-radius: 5px;
    }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #004085;
        }

    .btn-warning {
        background-color: #ffc107;
        border-color: #ffc107;
        color: #212529;
        font-weight: 500;
        border-radius: 5px;
    }

        .btn-warning:hover {
            background-color: #e0a800;
            border-color: #d39e00;
            color: #212529;
        }

    .bg-success {
        background-color: #28a745 !important;
    }

    .bg-danger {
        background-color: #dc3545 !important;
    }
</style>